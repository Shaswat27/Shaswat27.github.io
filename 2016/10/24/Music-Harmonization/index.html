<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0" />

    <!--Description-->
    
        <meta name="description" content="Personal blog and porfolio page">
    

    <!--Author-->
    
        <meta name="author" content="Shaswat Datta">
    

    <!--Open Graph Title-->
    
        <meta property="og:title" content="Music Harmonization"/>
    

    <!--Open Graph Site Name-->
    <meta property="og:site_name" content="Shaswat Datta"/>

    <!--Page Cover-->
    
        <meta property="og:image" content="undefined"/>
    

    <!-- Title -->
    
    <title>Music Harmonization - Shaswat Datta</title>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/reset.css">
    <link rel="stylesheet" href="/css/main.css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Gallery -->
    <link href="//cdn.rawgit.com/noelboss/featherlight/1.3.5/release/featherlight.min.css" type="text/css" rel="stylesheet" />

    <!-- Google Analytics -->
    
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-83741901-1', 'auto');
        ga('send', 'pageview');

    </script>



</head>

<body>

<!-- Menu -->
<!-- Navigation -->
<header>
    <div class="logo">
        <a href="/">Shaswat Datta</a>
    </div><!-- end logo -->

    <div id="menu_icon"></div>
    <nav>
        <ul>
            
            <li>
                <a href="/">Home</a>
            </li>
            
            <li>
                <a href="/archives">Archives</a>
            </li>
            
            <li>
                <a href="/about">About</a>
            </li>
            
        </ul>
    </nav><!-- end navigation menu -->

    <div class="footer clearfix">
        <ul class="social clearfix">
            
            
                <li><a href="https://www.facebook.com/shaswat27" class="fb" target="_blank" data-title="Facebook"></a></li>
            
            
            
                <li><a href="https://in.linkedin.com/in/shaswat-datta-86812075" class="google" target="_blank" data-title="LinkedIn"></a></li>
            
            
                <li><a href="mailto:shaswat.datta@gmail.com" class="dribble" target="_blank" data-title="Email"></a></li>
            
            
                <li><a href="https://www.github.com/shaswat27" class="rss" target="_blank" data-title="Github"></a></li>
            
        </ul><!-- end social -->

        <div class="rights">
            <p></p>
            <p></p>
            <p>Copyright © Shaswat Datta.</p>
        </div><!-- end rights -->
    </div ><!-- end footer -->
</header><!-- end header -->


<!-- Main Content -->
<section class="main clearfix">

    <section class="top" style="background: url('/images/music1.jpg');">
        <div class="wrapper content_header clearfix">
            

<div class="work_nav">

    <ul class="btn clearfix">
        
        <li><a href="/2016/10/24/Robot-Motion-Planning/" class="previous" data-title="Robot Motion Planning"></a></li>
        
        <li><a href="/" class="grid" data-title="Portfolio"></a></li>
        
        <li><a href="/2016/10/24/Object-Detection/" class="next" data-title="Object Detection"></a></li>
        
    </ul>

</div><!-- end work_nav -->
            <h1 class="title">Music Harmonization</h1>
        </div>
    </section><!-- end top -->

    <section class="wrapper">
        <div class="content">

            <!-- Gallery -->
            

            <!-- Content -->
            <p>Aside from forays into the realms deep into the left brain <em>(read - machine learning)</em>, I am also a classical pianist. I started playing about 6 years ago and have continued ever since. Those of you aware of this realm would point out that the image used for the cover of this post is actually the first lines of Chopin’s Nocturne is C# minor (Op. 20.), the one used in the movie ‘<strong>The Pianist</strong>‘. This one of my favorite short pieces, both to <a href="https://www.youtube.com/watch?v=n9oQEa-d5rU" target="_blank" rel="external">listen</a> and to play. You must be wondering why am I suddenly talking about music when I have posted mostly about computer science thus far. Well, there are more relations between the two than one would imagine in the beginning, the depths of which hopefully be clearer by the end of the next two paragraphs.</p>
<p>Leaving music aside for a moment, let’s talk about natural language processing (NLP), with the specific application of machine translation. The problem at hand being that given a sentence written in English, it must be translated to french by the machine. I will break down this seemingly complex task. Firstly, let’s talk about the mechanics of the problem. More formally speaking, we have as input a sequence of words and our output must also be the same (not necessarily of the same size). In this formalization, each word in the input sequence will <em>some relation</em> to the neighboring words in the input sequence and also has some relation to the output sequence. This can be represented as:<br><img src="/images/music4.jpg" alt="seq2seq problem"><br>This problem is known as a <strong>sequence to sequence</strong> learning problem. To tackle the same, one can say (just by intuition) that one would require a neural network with <em>memory</em> - a <strong>recurrent neural network</strong> (RNN). This so, because the network must be able to figure out the <em>relation</em> of the input words with the neighboring words in the sequence. Thus, a sequence to sequence problem is formulated as an encoder network (an RNN) cascaded with a decoder network (another RNN). The job of the encoder network is to interpret the information from the input sequence, essentially the <em>meaning</em> it is trying to convey. The decoder then conveys the <em>meaning</em> into the other sequence.<br><img src="/images/music2.png" alt="network"><br>So, in the translation problem, the encoder network extracts the important information from the English sentence and the decoder reads that information to produce the french sentence. The neurons which are generally used are either gated recurrent units (GRUs) or long-short term memory units (<strong>LSTMs</strong>). An LSTM unit is very interesting neuron which summarizes our process of <em>‘thinking’</em>. This explained brilliantly in this <a href="http://colah.github.io/posts/2015-08-Understanding-LSTMs/" target="_blank" rel="external">blog post</a> by . The basic architecture of the neuron is:<br><img src="/images/music3.jpg" alt="LSTM"></p>
<p>Now, let’s jump back to music again. It is often said that music is a language, and this was the inspiration for me and a few other friends (including <a href="http://shubhagrawal.in/" target="_blank" rel="external">Shubh</a>) to come up with a system which harmonizes music. For those of you who are less musically inclined - each song can be thought of as having a lead melody and a harmony (sometimes more than one as well), and these need not be the same. Restricting ourselves to piano music (western classical), usually the case is that the melody runs in the treble clef and the harmony runs in the base clef. <strong>(Before reading further, do familiarize yourself with a bit of</strong> <a href="https://en.wikibooks.org/wiki/Music_Theory/Fundamentals_of_Common_Practice_Music/Notation" target="_blank" rel="external"><strong>music theory</strong></a><strong>)</strong> Needless to say, the harmony line is determined by the melody. Not every note/chord <em>‘goes with’</em> every other. The fundamental task, hence, is to learn which notes/chords go well with which others. Not only that the melody line itself is dependent on previous patterns (e.g. rhythm, the number of beats, scale etc.). So, modeling the melody and the harmony lines as sequences of notes, the problem can be represented as:<br><img src="/images/music5.jpg" alt="music"><br>Doesn’t this look familiar? Of course, this is the sequence to sequence learning problem I described earlier. </p>
<p>Currently, I and others are working on this project. I will update this post regarding our method and about the other important aspects of NLP like the <strong>word2vec</strong> module by mid-November. Stay tuned.</p>


            <!-- Tags -->
            


<div class="tags">
    
</div>



            <!-- Comments -->
            <div>
                


            </div>
        </div><!-- end content -->
    </section>
</section><!-- end main -->

<!-- After footer scripts -->

<!-- jQuery -->
<script src="/js/jquery.js"></script>

<!-- Custom Code -->
<script src="/js/main.js"></script>

<!-- Gallery -->
<script src="//cdn.rawgit.com/noelboss/featherlight/1.3.5/release/featherlight.min.js" type="text/javascript" charset="utf-8"></script>

<!-- Disqus Comments -->


</body>

</html>